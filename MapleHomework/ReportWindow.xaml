<ui:FluentWindow x:Class="MapleHomework.ReportWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:converters="clr-namespace:MapleHomework.Converters"
        Title="í†µê³„ ë¦¬í¬íŠ¸" 
        Height="900" Width="1200"
        MinHeight="900" MinWidth="900"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        ExtendsContentIntoTitleBar="True"
        WindowBackdropType="Mica"
        UseLayoutRounding="True">

    <Window.Resources>
        <!-- ë‹¤í¬ ëª¨ë“œ ê¸°ë³¸ í…Œë§ˆ (ë™ì ìœ¼ë¡œ ë³€ê²½ë¨) -->
        <!-- ê¸°ë³¸ê°’ì„ ë¼ì´íŠ¸ íŒ”ë ˆíŠ¸ë¡œ ì„¤ì • (í…Œë§ˆ ì ìš© ì‹œ ì˜¤ë²„ë¼ì´ë“œ) -->
        <SolidColorBrush x:Key="WindowBackground" Color="#F5F7FB"/>
        <SolidColorBrush x:Key="CardBackground" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="CardBackgroundHover" Color="#EEF2F7"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#0F172A"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#475569"/>
        <SolidColorBrush x:Key="TextMuted" Color="#64748B"/>
        <SolidColorBrush x:Key="AccentCyan" Color="#5AC8FA"/>
        <SolidColorBrush x:Key="AccentOrange" Color="#FF9F43"/>
        <SolidColorBrush x:Key="AccentGreen" Color="#10B981"/>
        <SolidColorBrush x:Key="AccentPurple" Color="#A78BFA"/>
        <SolidColorBrush x:Key="AccentRed" Color="#F43F5E"/>
        <SolidColorBrush x:Key="DividerColor" Color="#E2E8F0"/>
        <SolidColorBrush x:Key="ChartBarGradientStart" Color="#5AC8FA"/>
        <SolidColorBrush x:Key="ChartBarGradientEnd" Color="#818CF8"/>
        <!-- ì°¨íŠ¸ í…ìŠ¤íŠ¸ -->
        <SolidColorBrush x:Key="ChartTextPrimary" Color="#0F172A"/>
        <SolidColorBrush x:Key="ChartTextSecondary" Color="#475569"/>
        <!-- ì‚¬ì´ë“œ/ì•Œë¦¼ ì¹´ë“œ -->
        <SolidColorBrush x:Key="ApiCardBackground" Color="#FFF6EC"/>
        <SolidColorBrush x:Key="ApiCardBorder" Color="#FFE3C2"/>

        <converters:JsonToItemInfoConverter x:Key="JsonToItemInfoConverter"/>
        <converters:StringNotEmptyToBoolConverter x:Key="StringNotEmptyToBoolConverter"/>
        <converters:RateToWidthConverter x:Key="RateToWidthConverter"/>
        <converters:StarRepeatConverter x:Key="StarRepeatConverter"/>
        <converters:StatDeltaConverter x:Key="StatDeltaConverter"/>
        <converters:ItemTooltipImageConverter x:Key="ItemTooltipImageConverter"/>
        <BooleanToVisibilityConverter x:Key="BoolToVisibility"/>

        <!-- ë©”ì´í”ŒìŠ¤í† ë¦¬ 22ë²„ì „ ìž¥ë¹„ íˆ´íŒ ìŠ¤íƒ€ì¼ (GearTooltipRender22.cs + Resource ê¸°ë°˜) -->
        <Style x:Key="ItemTooltipStyle" TargetType="ToolTip">
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="HasDropShadow" Value="True"/>
            <Setter Property="FontFamily" Value="ë‹ì›€"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="MinWidth" Value="324"/>
            <Setter Property="MaxWidth" Value="340"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToolTip">
                        <!-- UIToolTipNew_img_Item_Common_frame_fixed ìŠ¤íƒ€ì¼ ë°°ê²½ -->
                        <Border CornerRadius="0"
                                Background="#F0181D28"
                                BorderBrush="#80506070"
                                BorderThickness="1"
                                Padding="15,10"
                                MaxWidth="{TemplateBinding MaxWidth}"
                                MinWidth="{TemplateBinding MinWidth}">
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.4" Color="#000000"/>
                            </Border.Effect>
                            <ContentPresenter />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ìž¥ë¹„ íˆ´íŒ í…œí”Œë¦¿ (GearTooltipRender22.cs + CharaSimResource ê¸°ë°˜ - 22ë²„ì „ ì •í™•í•œ UI) -->
        <DataTemplate x:Key="ItemTooltipTemplate">
            <StackPanel DataContext="{Binding}">
                <!-- â˜… ìŠ¤íƒ€í¬ìŠ¤ (22ë²„ì „: ë…¸ëž€ìƒ‰ #FFCC00) -->
                <TextBlock HorizontalAlignment="Center" Margin="0,0,0,4" FontFamily="Segoe UI Symbol">
                    <Run Text="{Binding Starforce, Converter={StaticResource StarRepeatConverter}, ConverterParameter=all}" 
                         Foreground="#FFCC00" FontSize="10"/>
                </TextBlock>
                
                <!-- ì•„ì´í…œ ì´ë¦„ (ItemNameFont2: 14px Bold í°ìƒ‰) -->
                <TextBlock Text="{Binding ItemName}" 
                           Foreground="#FFFFFF" FontSize="14" FontWeight="Bold" 
                           HorizontalAlignment="Center" Margin="0,0,0,2"
                           TextWrapping="Wrap" TextAlignment="Center"/>
                
                <!-- êµí™˜ ë¶ˆê°€ (Equip22BrushRed: #FF8A18) -->
                <TextBlock Text="êµí™˜ ë¶ˆê°€" 
                           Foreground="#FF8A18" FontSize="11" 
                           HorizontalAlignment="Center" Margin="0,0,0,4"/>

                <!-- 22ë²„ì „ êµ¬ë¶„ì„  (UIToolTipNew frame_fixed_line ìŠ¤íƒ€ì¼) -->
                <Rectangle Height="1" Fill="#40FFFFFF" Margin="0,4,0,8"/>
                
                <!-- ì•„ì´ì½˜ + ì „íˆ¬ë ¥ ì¦ê°€ëŸ‰ (22ë²„ì „ ë ˆì´ì•„ì›ƒ) -->
                <Grid Margin="0,0,0,6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- ì•„ì´ì½˜ (UIToolTipNew_img_Item_Common_ItemIcon_base_custom ìŠ¤íƒ€ì¼) -->
                    <Border Grid.Column="0" Width="72" Height="72" 
                            Background="#20303844"
                            BorderBrush="#30FFFFFF" BorderThickness="1"
                            Margin="0,0,10,0">
                        <Image Source="{Binding ItemIcon}" Stretch="Uniform" Margin="6"/>
                    </Border>
                    
                    <!-- ìš°ì¸¡: ì „íˆ¬ë ¥ ì¦ê°€ëŸ‰ + ê¸°ë³¸ ì •ë³´ -->
                    <StackPanel Grid.Column="1" VerticalAlignment="Top">
                        <TextBlock Foreground="#85919F" FontSize="11" Margin="0,2,0,4" HorizontalAlignment="Right">
                            <Run Text="ì „íˆ¬ë ¥ ì¦ê°€ëŸ‰"/>
                        </TextBlock>
                        <TextBlock Foreground="#FFCC00" FontSize="14" FontWeight="Bold" HorizontalAlignment="Right" Margin="0,0,0,10">
                            <Run Text="+0"/>
                        </TextBlock>
                    </StackPanel>
                </Grid>

                <!-- ì¹´í…Œê³ ë¦¬ ë°” (UIToolTipNew_img_Item_Equip_frame_common_category ìŠ¤íƒ€ì¼) -->
                <Border Background="#25384858" Height="18" Margin="0,0,0,8">
                    <TextBlock Text="{Binding ItemEquipmentPart}" 
                               Foreground="#FFFFFF" FontSize="11" 
                               VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Border>

                <!-- ìž¥ë¹„ ìš”êµ¬ ì •ë³´ (Equip22BrushGray: #B7BFC5) -->
                <StackPanel Margin="0,0,0,6">
                    <TextBlock Foreground="#B7BFC5" FontSize="11" Margin="0,1">
                        <Run Text="REQ LEV : "/>
                        <Run Text="200" Foreground="#FFFFFF"/>
                    </TextBlock>
                </StackPanel>
                
                <!-- êµ¬ë¶„ì„  -->
                <Rectangle Height="1" Fill="#40FFFFFF" Margin="0,4,0,8"/>
                
                <!-- ìŠ¤íƒ¯ (22ë²„ì „ ìƒ‰ìƒí‘œ: í°ìƒ‰ + #0AE3AD ì¶”ê°€ì˜µì…˜ + #AFADFF ìŠ¤í¬ë¡¤) -->
                <StackPanel Margin="0,0,0,4">
                    <TextBlock FontSize="11" Margin="0,2">
                        <Run Text="STR : +" Foreground="#FFFFFF"/>
                        <Run Text="{Binding ItemTotalOption.Str}" Foreground="#FFFFFF"/>
                        <Run Text=" (" Foreground="#85919F"/>
                        <Run Text="{Binding ItemBaseOption.Str}" Foreground="#85919F"/>
                        <Run Foreground="#0AE3AD">
                            <Run.Text>
                                <MultiBinding Converter="{StaticResource StatDeltaConverter}">
                                    <Binding Path="ItemTotalOption.Str"/>
                                    <Binding Path="ItemBaseOption.Str"/>
                                </MultiBinding>
                            </Run.Text>
                        </Run>
                        <Run Text=")" Foreground="#85919F"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Margin="0,2">
                        <Run Text="DEX : +" Foreground="#FFFFFF"/>
                        <Run Text="{Binding ItemTotalOption.Dex}" Foreground="#FFFFFF"/>
                        <Run Text=" (" Foreground="#85919F"/>
                        <Run Text="{Binding ItemBaseOption.Dex}" Foreground="#85919F"/>
                        <Run Foreground="#0AE3AD">
                            <Run.Text>
                                <MultiBinding Converter="{StaticResource StatDeltaConverter}">
                                    <Binding Path="ItemTotalOption.Dex"/>
                                    <Binding Path="ItemBaseOption.Dex"/>
                                </MultiBinding>
                            </Run.Text>
                        </Run>
                        <Run Text=")" Foreground="#85919F"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Margin="0,2">
                        <Run Text="INT : +" Foreground="#FFFFFF"/>
                        <Run Text="{Binding ItemTotalOption.Int}" Foreground="#FFFFFF"/>
                        <Run Text=" (" Foreground="#85919F"/>
                        <Run Text="{Binding ItemBaseOption.Int}" Foreground="#85919F"/>
                        <Run Foreground="#0AE3AD">
                            <Run.Text>
                                <MultiBinding Converter="{StaticResource StatDeltaConverter}">
                                    <Binding Path="ItemTotalOption.Int"/>
                                    <Binding Path="ItemBaseOption.Int"/>
                                </MultiBinding>
                            </Run.Text>
                        </Run>
                        <Run Text=")" Foreground="#85919F"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Margin="0,2">
                        <Run Text="LUK : +" Foreground="#FFFFFF"/>
                        <Run Text="{Binding ItemTotalOption.Luk}" Foreground="#FFFFFF"/>
                        <Run Text=" (" Foreground="#85919F"/>
                        <Run Text="{Binding ItemBaseOption.Luk}" Foreground="#85919F"/>
                        <Run Foreground="#0AE3AD">
                            <Run.Text>
                                <MultiBinding Converter="{StaticResource StatDeltaConverter}">
                                    <Binding Path="ItemTotalOption.Luk"/>
                                    <Binding Path="ItemBaseOption.Luk"/>
                                </MultiBinding>
                            </Run.Text>
                        </Run>
                        <Run Text=")" Foreground="#85919F"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Margin="0,2">
                        <Run Text="ìµœëŒ€ HP : +" Foreground="#FFFFFF"/>
                        <Run Text="{Binding ItemTotalOption.MaxHp}" Foreground="#FFFFFF"/>
                        <Run Text=" (" Foreground="#85919F"/>
                        <Run Text="{Binding ItemBaseOption.MaxHp}" Foreground="#85919F"/>
                        <Run Foreground="#0AE3AD">
                            <Run.Text>
                                <MultiBinding Converter="{StaticResource StatDeltaConverter}">
                                    <Binding Path="ItemTotalOption.MaxHp"/>
                                    <Binding Path="ItemBaseOption.MaxHp"/>
                                </MultiBinding>
                            </Run.Text>
                        </Run>
                        <Run Text=")" Foreground="#85919F"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Margin="0,2">
                        <Run Text="ê³µê²©ë ¥ : +" Foreground="#FFFFFF"/>
                        <Run Text="{Binding ItemTotalOption.AttackPower}" Foreground="#FFFFFF"/>
                        <Run Text=" (" Foreground="#85919F"/>
                        <Run Text="{Binding ItemBaseOption.AttackPower}" Foreground="#85919F"/>
                        <Run Foreground="#0AE3AD">
                            <Run.Text>
                                <MultiBinding Converter="{StaticResource StatDeltaConverter}">
                                    <Binding Path="ItemTotalOption.AttackPower"/>
                                    <Binding Path="ItemBaseOption.AttackPower"/>
                                </MultiBinding>
                            </Run.Text>
                        </Run>
                        <Run Text=")" Foreground="#85919F"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Margin="0,2">
                        <Run Text="ë§ˆë ¥ : +" Foreground="#FFFFFF"/>
                        <Run Text="{Binding ItemTotalOption.MagicPower}" Foreground="#FFFFFF"/>
                        <Run Text=" (" Foreground="#85919F"/>
                        <Run Text="{Binding ItemBaseOption.MagicPower}" Foreground="#85919F"/>
                        <Run Foreground="#0AE3AD">
                            <Run.Text>
                                <MultiBinding Converter="{StaticResource StatDeltaConverter}">
                                    <Binding Path="ItemTotalOption.MagicPower"/>
                                    <Binding Path="ItemBaseOption.MagicPower"/>
                                </MultiBinding>
                            </Run.Text>
                        </Run>
                        <Run Text=")" Foreground="#85919F"/>
                    </TextBlock>
                    <!-- ë³´ìŠ¤ ë°ë¯¸ì§€ (Equip22BrushEmphasis: #FFCC00) -->
                    <TextBlock FontSize="11" Foreground="#FFCC00" Margin="0,2">
                        <Run Text="ë³´ìŠ¤ ëª¬ìŠ¤í„° ê³µê²© ì‹œ ë°ë¯¸ì§€ : +"/>
                        <Run Text="{Binding ItemTotalOption.BossDamage}"/>
                        <Run Text="%"/>
                    </TextBlock>
                    <!-- ë°©ì–´ìœ¨ ë¬´ì‹œ (Equip22BrushEmphasis: #FFCC00) -->
                    <TextBlock FontSize="11" Foreground="#FFCC00" Margin="0,2">
                        <Run Text="ëª¬ìŠ¤í„° ë°©ì–´ìœ¨ ë¬´ì‹œ : +"/>
                        <Run Text="{Binding ItemTotalOption.IgnoreMonsterArmor}"/>
                        <Run Text="%"/>
                    </TextBlock>
                </StackPanel>
                
                <!-- êµ¬ë¶„ì„  -->
                <Rectangle Height="1" Fill="#40FFFFFF" Margin="0,4,0,8"/>
                
                <!-- ìž ìž¬ì˜µì…˜ (22ë²„ì „ ìƒ‰ìƒ: ë ˆì–´=#66FFFF, ì—í”½=#BB81FF, ìœ ë‹ˆí¬=#FFCC00, ë ˆì „=#CCFF00) -->
                <StackPanel Margin="0,0,0,4">
                    <!-- ë“±ê¸‰ í—¤ë” (ë ˆì „ë“œë¦¬ ê¸°ì¤€ #CCFF00) -->
                    <TextBlock FontSize="11" Foreground="#CCFF00" Margin="0,0,0,3">
                        <Run Text="ìž ìž¬ì˜µì…˜ ("/>
                        <Run Text="{Binding PotentialOptionGrade}"/>
                        <Run Text=" ì•„ì´í…œ)"/>
                    </TextBlock>
                    <!-- ì˜µì…˜ ëª©ë¡ (í°ìƒ‰) -->
                    <TextBlock FontSize="11" Foreground="#FFFFFF" Margin="0,1">
                        <Run Text="{Binding PotentialOption1}"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Foreground="#FFFFFF" Margin="0,1">
                        <Run Text="{Binding PotentialOption2}"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Foreground="#FFFFFF" Margin="0,1">
                        <Run Text="{Binding PotentialOption3}"/>
                    </TextBlock>
                </StackPanel>
                
                <!-- êµ¬ë¶„ì„  -->
                <Rectangle Height="1" Fill="#40FFFFFF" Margin="0,4,0,8"/>
                
                <!-- ì—ë””ì…”ë„ ìž ìž¬ì˜µì…˜ (22ë²„ì „: Equip22BrushEpic=#BB81FF) -->
                <StackPanel>
                    <!-- ë“±ê¸‰ í—¤ë” -->
                    <TextBlock FontSize="11" Foreground="#BB81FF" Margin="0,0,0,3">
                        <Run Text="ì—ë””ì…”ë„ ìž ìž¬ì˜µì…˜ ("/>
                        <Run Text="{Binding AdditionalPotentialOptionGrade}"/>
                        <Run Text=" ì•„ì´í…œ)"/>
                    </TextBlock>
                    <!-- ì˜µì…˜ ëª©ë¡ (í°ìƒ‰) -->
                    <TextBlock FontSize="11" Foreground="#FFFFFF" Margin="0,1">
                        <Run Text="{Binding AdditionalPotentialOption1}"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Foreground="#FFFFFF" Margin="0,1">
                        <Run Text="{Binding AdditionalPotentialOption2}"/>
                    </TextBlock>
                    <TextBlock FontSize="11" Foreground="#FFFFFF" Margin="0,1">
                        <Run Text="{Binding AdditionalPotentialOption3}"/>
                    </TextBlock>
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <!-- ëª¨ë˜ ì¹´ë“œ ìŠ¤íƒ€ì¼ -->
        <Style x:Key="ModernCard" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.15" Color="#000000"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ê·¸ëž˜í”„ ë°” ê·¸ë¼ë””ì–¸íŠ¸ -->
        <LinearGradientBrush x:Key="ExpGradient" StartPoint="0,1" EndPoint="0,0">
            <GradientStop Color="#667EEA" Offset="0"/>
            <GradientStop Color="#64B5F6" Offset="0.5"/>
            <GradientStop Color="#4DD0E1" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="UnionGradient" StartPoint="0,1" EndPoint="0,0">
            <GradientStop Color="#F093FB" Offset="0"/>
            <GradientStop Color="#F5576C" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="PowerGradient" StartPoint="0,1" EndPoint="0,0">
            <GradientStop Color="#FF6B6B" Offset="0"/>
            <GradientStop Color="#FFA726" Offset="1"/>
        </LinearGradientBrush>
    </Window.Resources>

        <Grid x:Name="MainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- íƒ€ì´í‹€ ë°” -->
        <Border Grid.Row="0" Padding="24,16" Background="Transparent" MouseLeftButtonDown="TitleBarBorder_MouseLeftButtonDown">
            <Grid>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Border Background="#5AC8FA" CornerRadius="10" Width="40" Height="40" Margin="0,0,14,0">
                        <ui:SymbolIcon Symbol="DataHistogram24" FontSize="22" Foreground="White"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock x:Name="TitleText" Text="í†µê³„ ë¦¬í¬íŠ¸" Foreground="{StaticResource TextPrimary}" 
                                   FontSize="20" FontWeight="SemiBold"/>
                        <TextBlock Text="ìºë¦­í„° ì„±ìž¥ ë¶„ì„ Â· ìˆ™ì œ ì™„ë£Œ í†µê³„" Foreground="{StaticResource TextSecondary}" 
                                   FontSize="12" Margin="0,2,0,0"/>
                    </StackPanel>
                </StackPanel>
                
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <Button Width="40" Height="40" Click="MinimizeButton_Click"
                            Background="Transparent" BorderThickness="0" Cursor="Hand" ToolTip="ìµœì†Œí™”">
                        <ui:SymbolIcon Symbol="Subtract24" FontSize="18" Foreground="{StaticResource TextSecondary}"/>
                    </Button>
                    <Button Width="40" Height="40" Click="CloseButton_Click"
                            Background="Transparent" BorderThickness="0" Cursor="Hand" ToolTip="ë‹«ê¸°">
                        <ui:SymbolIcon Symbol="Dismiss24" FontSize="18" Foreground="{StaticResource TextSecondary}"/>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <Grid Grid.Row="1" Margin="20,0,20,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="240"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°”ë¡œ ë³µê·€ -->
            <Border Grid.Column="0" Style="{StaticResource ModernCard}" Margin="0,0,16,0">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- ìºë¦­í„° í•„í„° -->
                        <TextBlock Text="ìºë¦­í„° ì„ íƒ" Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,0,0,8"/>
                        <ComboBox x:Name="CharacterFilterCombo" SelectionChanged="CharacterFilterCombo_SelectionChanged" 
                                  Margin="0,0,0,15">
                            <ComboBoxItem Content="ì „ì²´ ìºë¦­í„°" IsSelected="True"/>
                        </ComboBox>

                        <Border Height="1" Background="{StaticResource DividerColor}" Margin="0,0,0,15"/>

                        <!-- ìƒˆë¡œê³ ì¹¨ -->
                        <ui:Button Content="ë°ì´í„° ìƒˆë¡œê³ ì¹¨" Icon="ArrowSync24" 
                                   Appearance="Secondary" HorizontalAlignment="Stretch"
                                   Click="RefreshButton_Click" Height="38" Margin="0,0,0,15"/>

                        <Border Height="1" Background="{StaticResource DividerColor}" Margin="0,0,0,15"/>

                        <!-- API ë°ì´í„° ìˆ˜ì§‘ -->
                        <Border Background="{StaticResource ApiCardBackground}" BorderBrush="{StaticResource ApiCardBorder}"
                                BorderThickness="1" CornerRadius="10" Padding="12" Margin="0,0,0,15">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                    <ui:SymbolIcon Symbol="CloudArrowDown24" Foreground="{StaticResource AccentOrange}" FontSize="18"/>
                                    <TextBlock Text="API ë°ì´í„° ìˆ˜ì§‘" Foreground="{StaticResource AccentOrange}" 
                                               FontSize="12" FontWeight="SemiBold" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                                <TextBlock Text="Nexon APIì—ì„œ ê³¼ê±° ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ í†µê³„ì— ì €ìž¥í•©ë‹ˆë‹¤." 
                                           Foreground="{StaticResource TextPrimary}" FontSize="11" TextWrapping="Wrap" Margin="0,0,0,10"/>
                                
                                <ComboBox x:Name="HistoryDaysCombo" Margin="0,0,0,10" FontSize="12">
                                    <ComboBoxItem Content="ìµœê·¼ 7ì¼" Tag="7" IsSelected="True"/>
                                    <ComboBoxItem Content="ìµœê·¼ 30ì¼" Tag="30"/>
                                    <ComboBoxItem Content="ìµœê·¼ 90ì¼" Tag="90"/>
                                    <ComboBoxItem Content="ìµœê·¼ 180ì¼" Tag="180"/>
                                    <ComboBoxItem Content="ìµœê·¼ 365ì¼" Tag="365"/>
                                </ComboBox>
                                
                                <ui:Button x:Name="CollectHistoryButton" Content="ìˆ˜ì§‘ ì‹œìž‘" Icon="History24" 
                                           Appearance="Primary" HorizontalAlignment="Stretch"
                                           Click="CollectHistoryButton_Click" Height="36"/>
                                
                                <ProgressBar x:Name="CollectProgressBar" Height="4" Margin="0,10,0,0" 
                                             Visibility="Collapsed" Foreground="{StaticResource AccentCyan}"/>
                                <TextBlock x:Name="CollectStatusText" Text="" Foreground="{StaticResource TextPrimary}" 
                                           FontSize="10" Margin="0,5,0,0" TextAlignment="Center"/>
                            </StackPanel>
                        </Border>

                        <!-- ë°ì´í„° ì´ˆê¸°í™” -->
                        <ui:Button x:Name="ClearCacheButton" Content="ì„±ìž¥ ë°ì´í„° ì´ˆê¸°í™”" Icon="Delete24"
                                   Appearance="Danger" HorizontalAlignment="Stretch"
                                   Click="ClearCacheButton_Click" Height="34"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ (ìš°ì¸¡) -->
            <ScrollViewer x:Name="MainScrollViewer" Grid.Column="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <StackPanel Margin="0,0,20,0">

                    <!-- ì„±ìž¥ ë¦¬í¬íŠ¸ ì„¹ì…˜ (2025 íŠ¸ë Œë“œ ë””ìžì¸) -->
                    <StackPanel x:Name="GrowthReportSection" Visibility="Visible">
                        <!-- ì„±ìž¥ ìš”ì•½ ë°°ë„ˆ -->
                        <Border CornerRadius="20" Margin="0,0,0,24" Padding="24">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#667EEA" Offset="0"/>
                                    <GradientStop Color="#764BA2" Offset="0.5"/>
                                    <GradientStop Color="#F093FB" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="ì˜ˆìƒ ë ˆë²¨ì—… ë‚ ì§œ" Foreground="#DDDDDD" FontSize="13"/>
                                    <TextBlock x:Name="EstimatedLevelUpText" Text="-"
                                               Foreground="White" FontSize="32" FontWeight="Bold" Margin="0,6,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="ì¼ê°„ í‰ê·  ê²½í—˜ì¹˜ ìƒìŠ¹ (ìµœê·¼ 30ì¼)" Foreground="#DDDDDD" FontSize="13"/>
                                    <TextBlock x:Name="WeeklyExpGrowthText" Text="-"
                                               Foreground="White" FontSize="32" FontWeight="Bold" Margin="0,6,0,0"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- ê²½í—˜ì¹˜/ì „íˆ¬ë ¥ ë³€í™” (2ì—´, ê°€ë¡œ ìŠ¤í¬ë¡¤) -->
                        <TextBlock Text="ðŸ“ˆ ê²½í—˜ì¹˜ Â· ì „íˆ¬ë ¥ ë³€í™”" Foreground="{StaticResource TextPrimary}" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,16"/>
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                            <Grid Margin="0,0,0,24">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!-- ê²½í—˜ì¹˜ ë³€í™” -->
                                <StackPanel Grid.Column="0" Margin="0,0,12,0">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" Margin="0,0,0,8">
                                        <TextBlock Text="ê²½í—˜ì¹˜ ë³€í™” ë‚´ì—­" Foreground="{StaticResource TextPrimary}" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="12,0,0,0">
                                            <Button x:Name="ExpDayBtn" Content="1ì¼" Tag="day" Click="ExpRangeButton_Click" Margin="0,0,4,0" Padding="8,4"/>
                                            <Button x:Name="ExpWeekBtn" Content="1ì£¼" Tag="week" Click="ExpRangeButton_Click" Margin="0,0,4,0" Padding="8,4"/>
                                            <Button x:Name="ExpMonthBtn" Content="1ë‹¬" Tag="month" Click="ExpRangeButton_Click" Padding="8,4"/>
                                        </StackPanel>
                                    </StackPanel>
                                    <Border Style="{StaticResource ModernCard}" Padding="0,12,0,12">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="320"/>
                                            </Grid.RowDefinitions>
                                            <StackPanel Orientation="Horizontal" Margin="12,0,0,12">
                                                <Border Background="#1A5AC8FA" CornerRadius="6" Padding="8,4" Margin="0,0,8,0">
                                                    <TextBlock Text="ê²½í—˜ì¹˜ %" Foreground="{StaticResource AccentCyan}" FontSize="11" FontWeight="SemiBold"/>
                                                </Border>
                                            </StackPanel>
                                            <Border Grid.Row="1" Background="#08FFFFFF" CornerRadius="12" Padding="10,8">
                                                <ScrollViewer HorizontalScrollBarVisibility="Visible" VerticalScrollBarVisibility="Disabled"
                                                              PreviewMouseWheel="InnerScroll_PreviewMouseWheel">
                                                    <ItemsControl x:Name="ExpGrowthList">
                                                        <ItemsControl.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" Margin="6,0,6,0"/>
                                                            </ItemsPanelTemplate>
                                                        </ItemsControl.ItemsPanel>
                                                        <ItemsControl.ItemTemplate>
                                                            <DataTemplate>
                                                                <Grid Margin="6,0" Width="70" VerticalAlignment="Bottom">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="*" />
                                                                        <RowDefinition Height="Auto" />
                                                                        <RowDefinition Height="Auto" />
                                                                    </Grid.RowDefinitions>
                                                                    <!-- ê·¸ëž˜í”„ ë°” -->
                                                                    <Border Grid.Row="0" VerticalAlignment="Bottom"
                                                                            Height="{Binding GraphRate, Converter={StaticResource RateToWidthConverter}, ConverterParameter=180}"
                                                                            MinHeight="5" CornerRadius="8" Background="{StaticResource ExpGradient}">
                                                                        <Border.Effect>
                                                                            <DropShadowEffect BlurRadius="10" ShadowDepth="0" Opacity="0.4" Color="#667EEA"/>
                                                                        </Border.Effect>
                                                                    </Border>
                                                                    <!-- ë‚ ì§œ -->
                                                                    <TextBlock Grid.Row="1" Text="{Binding Date, StringFormat=MM/dd}"
                                                                               Foreground="{StaticResource ChartTextSecondary}" FontSize="9"
                                                                               HorizontalAlignment="Center" Margin="0,8,0,4"/>
                                                                    <!-- ë ˆë²¨/í¼ì„¼íŠ¸/íšë“ëŸ‰ -->
                                                                    <StackPanel Grid.Row="2" HorizontalAlignment="Center" Margin="0,0,0,4">
                                                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,2">
                                                                            <TextBlock Text="{Binding Level, StringFormat=Lv.{0}}"
                                                                                       Foreground="{StaticResource ChartTextPrimary}" FontSize="10" FontWeight="Bold"/>
                                                                            <TextBlock Text=" â¬†" Foreground="#10B981" FontSize="9" FontWeight="Bold"
                                                                                       Visibility="{Binding LeveledUp, Converter={StaticResource BoolToVisibility}}"/>
                                                                        </StackPanel>
                                                                        <TextBlock Text="{Binding ExperienceRate, StringFormat={}{0:F1}%}"
                                                                                   Foreground="{StaticResource ChartTextPrimary}" FontSize="10" FontWeight="SemiBold"
                                                                                   HorizontalAlignment="Center"/>
                                                                        <TextBlock Text="{Binding DailyExpGainFormatted}"
                                                                                   Foreground="#10B981" FontSize="8" FontWeight="SemiBold"
                                                                                   HorizontalAlignment="Center" Opacity="0.9"/>
                                                                    </StackPanel>
                                                                </Grid>
                                                            </DataTemplate>
                                                        </ItemsControl.ItemTemplate>
                                                    </ItemsControl>
                                                </ScrollViewer>
                                            </Border>
                                        </Grid>
                                    </Border>
                                </StackPanel>

                                <!-- ì „íˆ¬ë ¥ ë³€í™” -->
                                <StackPanel Grid.Column="1" Margin="12,0,0,0">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" Margin="0,0,0,8">
                                        <TextBlock Text="ì „íˆ¬ë ¥ ë³€í™” ë‚´ì—­" Foreground="{StaticResource TextPrimary}" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <Border Style="{StaticResource ModernCard}" Padding="0,12,0,12">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="320"/>
                                            </Grid.RowDefinitions>
                                            <StackPanel Orientation="Horizontal" Margin="12,0,0,12">
                                                <Border Background="#1AFF6B6B" CornerRadius="6" Padding="8,4">
                                                    <TextBlock Text="ì „íˆ¬ë ¥" Foreground="#FF6B6B" FontSize="11" FontWeight="SemiBold"/>
                                                </Border>
                                            </StackPanel>
                                            <Border Grid.Row="1" Background="#08FFFFFF" CornerRadius="12" Padding="10,8">
                                                <ScrollViewer HorizontalScrollBarVisibility="Visible" VerticalScrollBarVisibility="Disabled"
                                                              PreviewMouseWheel="InnerScroll_PreviewMouseWheel">
                                                    <ItemsControl x:Name="CombatPowerList">
                                                        <ItemsControl.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" Margin="6,0,6,0"/>
                                                            </ItemsPanelTemplate>
                                                        </ItemsControl.ItemsPanel>
                                                        <ItemsControl.ItemTemplate>
                                                            <DataTemplate>
                                                                <Grid Margin="6,0" Width="70" VerticalAlignment="Bottom">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="Auto"/>
                                                                        <RowDefinition Height="*" />
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>
                                                                    <TextBlock Grid.Row="0" Text="{Binding NewPower, StringFormat={}{0:N0}}"
                                                                               Foreground="{StaticResource ChartTextPrimary}" FontSize="9" FontWeight="SemiBold"
                                                                               HorizontalAlignment="Center" Margin="0,0,0,6" TextTrimming="CharacterEllipsis"/>
                                                                    <Border Grid.Row="1" VerticalAlignment="Bottom"
                                                                            Height="{Binding GraphRate, Converter={StaticResource RateToWidthConverter}, ConverterParameter=150}"
                                                                            CornerRadius="8" Background="{StaticResource PowerGradient}">
                                                                        <Border.Effect>
                                                                            <DropShadowEffect BlurRadius="10" ShadowDepth="0" Opacity="0.4" Color="#FF6B6B"/>
                                                                        </Border.Effect>
                                                                    </Border>
                                                                    <TextBlock Grid.Row="2" Text="{Binding Date, StringFormat=MM/dd}"
                                                                               Foreground="{StaticResource ChartTextSecondary}" FontSize="10"
                                                                               HorizontalAlignment="Center" Margin="0,8,0,0"/>
                                                                </Grid>
                                                            </DataTemplate>
                                                        </ItemsControl.ItemTemplate>
                                                    </ItemsControl>
                                                </ScrollViewer>
                                            </Border>
                                            <TextBlock x:Name="NoCombatPowerDataText" Grid.Row="1" Text="ì „íˆ¬ë ¥ ë³€í™” ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤." 
                                                       Foreground="{StaticResource TextMuted}" FontSize="13" 
                                                       HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed"/>
                                        </Grid>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </ScrollViewer>

                        <!-- 6ì°¨ ìŠ¤í‚¬ ì„¹ì…˜ (ìƒì„¸ ì¢Œ, í˜„í™© ìš°) -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="500" />
                            </Grid.ColumnDefinitions>

                            <!-- ìƒì„¸ ë‚´ì—­ (ì¢Œì¸¡, ê°€ë³€) -->
                            <StackPanel Grid.Column="0" Margin="0,0,12,0">
                                <TextBlock Text="âœ¨ 6ì°¨ ìŠ¤í‚¬ ê°•í™” ìƒì„¸ ë‚´ì—­" Foreground="{StaticResource TextPrimary}" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,16"/>
                                <Border Style="{StaticResource ModernCard}" Margin="0,0,0,8" Padding="0">
                                    <ScrollViewer MaxHeight="720" VerticalScrollBarVisibility="Auto"
                                                  PreviewMouseWheel="InnerScroll_PreviewMouseWheel">
                                        <ItemsControl x:Name="HexaSkillList">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Margin="0,0,0,12">
                                                        <TextBlock Text="{Binding Date, StringFormat=yyyy/MM/dd}"
                                                                   Foreground="{StaticResource TextPrimary}" FontSize="13" FontWeight="Bold" Margin="12,8,12,6"/>
                                                        <ItemsControl ItemsSource="{Binding Items}">
                                                            <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                    <Border Background="#08FFFFFF" CornerRadius="10" Padding="14,10" Margin="12,0,12,8" BorderBrush="#EEF2F7" BorderThickness="1">
                                                                        <Grid>
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="Auto"/>
                                                                                <ColumnDefinition Width="*"/>
                                                                                <ColumnDefinition Width="Auto"/>
                                                                            </Grid.ColumnDefinitions>
                                                                            <Border Width="36" Height="36" CornerRadius="8" Background="#1AA78BFA" VerticalAlignment="Center">
                                                                                <Image Source="{Binding SkillIcon}" Width="28" Height="28" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                            </Border>
                                                                            <StackPanel Grid.Column="1" Margin="10,0,0,0" VerticalAlignment="Center">
                                                                                <TextBlock Text="{Binding SkillName}" Foreground="{StaticResource TextPrimary}" FontSize="13" FontWeight="SemiBold" TextTrimming="CharacterEllipsis"/>
                                                                                <TextBlock Foreground="{StaticResource TextSecondary}" FontSize="11" Margin="0,2,0,0">
                                                                                    <Run Text="ìŠ¤í‚¬ Lv. "/>
                                                                                    <Run Text="{Binding OldLevel}"/>
                                                                                    <Run Text=" â†’ "/>
                                                                                    <Run Text="{Binding NewLevel}"/>
                                                                                </TextBlock>
                                                                            </StackPanel>
                                                                            <Border Grid.Column="2" Background="#1AA78BFA" CornerRadius="8" Padding="10,4" VerticalAlignment="Center">
                                                                                <TextBlock Foreground="{StaticResource AccentPurple}" FontSize="12" FontWeight="Bold">
                                                                                    <Run Text="Lv."/>
                                                                                    <Run Text="{Binding OldLevel}"/>
                                                                                    <Run Text=" â†’ "/>
                                                                                    <Run Text="{Binding NewLevel}"/>
                                                                                </TextBlock>
                                                                            </Border>
                                                                        </Grid>
                                                                    </Border>
                                                                </DataTemplate>
                                                            </ItemsControl.ItemTemplate>
                                                        </ItemsControl>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </ScrollViewer>
                                </Border>
                                <TextBlock x:Name="NoHexaSkillDataText" Text="6ì°¨ ìŠ¤í‚¬ ê°•í™” ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤." 
                                           Foreground="{StaticResource TextMuted}" FontSize="13" 
                                           HorizontalAlignment="Center" Visibility="Collapsed" Margin="0,8,0,0"/>
                            </StackPanel>

                            <!-- í˜„í™© (ìš°ì¸¡, ê³ ì • í¬ê¸°) -->
                            <StackPanel Grid.Column="1" Margin="12,0,0,0">
                                <TextBlock Text="âœ¨ 6ì°¨ ìŠ¤í‚¬ ê°•í™” í˜„í™©" Foreground="{StaticResource TextPrimary}" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,16"/>
                                <Border Style="{StaticResource ModernCard}" Padding="16" Background="#0D0F17"
                                        Width="480" MinHeight="720" HorizontalAlignment="Stretch">
                                    <Grid>
                                        <Rectangle Fill="Transparent" />
                                        <Rectangle>
                                            <Rectangle.Fill>
                                                <ImageBrush ImageSource="Data/hexaSkill.backgrnd.png"
                                                            Stretch="UniformToFill"
                                                            AlignmentX="Center"
                                                            AlignmentY="Center"
                                                            Opacity="0.35"/>
                                            </Rectangle.Fill>
                                        </Rectangle>
                                        <ItemsControl x:Name="HexaCoreGroups" Margin="0" HorizontalAlignment="Left" VerticalAlignment="Center">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Margin="0,0,0,0">
                                                        <!-- ê·¸ë£¹ í—¤ë” (ê·¸ë¼ë°ì´ì…˜ pill, ì•„ì´ì½˜/ê°œìˆ˜ ì œê±°) -->
                                                        <Border Padding="12,6" CornerRadius="6" Margin="0,0,0,12" HorizontalAlignment="Left">
                                                            <Border.Style>
                                                                <Style TargetType="Border">
                                                                    <Setter Property="Background">
                                                                        <Setter.Value>
                                                                            <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                                                <GradientStop Color="#555" Offset="0"/>
                                                                                <GradientStop Color="#777" Offset="1"/>
                                                                            </LinearGradientBrush>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding TypeLabel}" Value="ìŠ¤í‚¬ ì½”ì–´">
                                                                            <Setter Property="Background">
                                                                                <Setter.Value>
                                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                                                        <GradientStop Color="#6622cc" Offset="0"/>
                                                                                        <GradientStop Color="#9966ee" Offset="1"/>
                                                                                    </LinearGradientBrush>
                                                                                </Setter.Value>
                                                                            </Setter>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding TypeLabel}" Value="ë§ˆìŠ¤í„°ë¦¬ ì½”ì–´">
                                                                            <Setter Property="Background">
                                                                                <Setter.Value>
                                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                                                        <GradientStop Color="#882277" Offset="0"/>
                                                                                        <GradientStop Color="#BB5599" Offset="1"/>
                                                                                    </LinearGradientBrush>
                                                                                </Setter.Value>
                                                                            </Setter>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding TypeLabel}" Value="ê°•í™” ì½”ì–´">
                                                                            <Setter Property="Background">
                                                                                <Setter.Value>
                                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                                                        <GradientStop Color="#336699" Offset="0"/>
                                                                                        <GradientStop Color="#88eeff" Offset="1"/>
                                                                                    </LinearGradientBrush>
                                                                                </Setter.Value>
                                                                            </Setter>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding TypeLabel}" Value="ê³µìš© ì½”ì–´">
                                                                            <Setter Property="Background">
                                                                                <Setter.Value>
                                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                                                        <GradientStop Color="#666699" Offset="0"/>
                                                                                        <GradientStop Color="#aaaadd" Offset="1"/>
                                                                                    </LinearGradientBrush>
                                                                                </Setter.Value>
                                                                            </Setter>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Border.Style>
                                                            <TextBlock Text="{Binding TypeLabel}" Foreground="White" FontSize="13" FontWeight="Bold"/>
                                                        </Border>

                                                        <!-- ì½”ì–´ ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ -->
                                                        <ItemsControl ItemsSource="{Binding Items}"
                                                                      HorizontalContentAlignment="Left">
                                                            <ItemsControl.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <WrapPanel ItemWidth="100"
                                                                               HorizontalAlignment="Left" />
                                                                </ItemsPanelTemplate>
                                                            </ItemsControl.ItemsPanel>
                                                            <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Width="135" MinHeight="120" Margin="0,0,0,6"
                                                                                HorizontalAlignment="Left" VerticalAlignment="Top">
                                                                        <Grid Width="80" Height="80" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                                              ToolTip="{Binding OriginalName}">
                                                                            <Image Source="{Binding BadgeIcon}" Width="80" Height="80" HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.9"/>
                                                                            <Image Source="{Binding SkillIcon}" Width="32" Height="32" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                        </Grid>
                                                                        <StackPanel Margin="0,6,0,0" HorizontalAlignment="Center">
                                                                            <TextBlock Text="{Binding SkillName}" Foreground="White" FontSize="11" FontWeight="SemiBold"
                                                                                       TextAlignment="Center" TextWrapping="Wrap" TextTrimming="CharacterEllipsis"
                                                                                       MaxWidth="135"/>
                                                                            <TextBlock Foreground="#A0AEC0" FontSize="10" Margin="0,0,0,0" TextAlignment="Center">
                                                                                <Run Text="{Binding CoreLevel}"/>
                                                                                <Run Text=" ë ˆë²¨"/>
                                                                            </TextBlock>
                                                                        </StackPanel>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </ItemsControl.ItemTemplate>
                                                        </ItemsControl>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </Grid>

                        <!-- ìž¥ë¹„ ë³€ê²½ ë‚´ì—­ -->
                        <TextBlock Text="ðŸ›¡ï¸ ìž¥ë¹„ ë³€ê²½ ë‚´ì—­" Foreground="{StaticResource TextPrimary}" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,16"/>
                        <Border Style="{StaticResource ModernCard}" Height="500" Padding="16">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="350" />
                                </Grid.ColumnDefinitions>

                                <!-- ë³€ê²½ ë¦¬ìŠ¤íŠ¸ (ì¢Œ) -->
                                <Border Grid.Column="0" BorderBrush="#E0E6ED" BorderThickness="1" CornerRadius="12" Padding="10" Background="#04FFFFFF">
                                    <ScrollViewer VerticalScrollBarVisibility="Auto"
                                                  PreviewMouseWheel="InnerScroll_PreviewMouseWheel"
                                                  Height="468">
                                        <ListBox x:Name="ItemChangeList"
                                                 BorderThickness="0"
                                                 Background="Transparent"
                                                 ScrollViewer.VerticalScrollBarVisibility="Disabled">
                                            <ListBox.ItemTemplate>
                                                <DataTemplate>
                                                    <Border Background="#0BFFFFFF" CornerRadius="12" Padding="14,12" Margin="0,0,0,10"
                                                            BorderBrush="#E0E6ED" BorderThickness="1"
                                                            Cursor="Hand">
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="90"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="80"/>
                                                                <ColumnDefinition Width="*"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                            </Grid.ColumnDefinitions>
                                                            <TextBlock Text="{Binding Date, StringFormat=yyyy/MM/dd}" 
                                                                       Foreground="{StaticResource TextPrimary}" FontSize="12" VerticalAlignment="Center"/>
                                                            <Border Grid.Column="1" Background="#1A5AC8FA" CornerRadius="6" Padding="3" Margin="0,0,10,0">
                                                                <Image Width="30" Height="30" Stretch="Uniform"
                                                                       Source="{Binding ItemInfoJson, Converter={StaticResource JsonToItemInfoConverter}, ConverterParameter=Icon}"/>
                                                            </Border>
                                                            <TextBlock Grid.Column="2" Text="{Binding ItemSlot}" 
                                                                       Foreground="{StaticResource AccentCyan}" FontSize="12" FontWeight="SemiBold" 
                                                                       VerticalAlignment="Center"/>
                                                            <StackPanel Grid.Column="3" VerticalAlignment="Center">
                                                                <TextBlock Text="{Binding NewItemName}" 
                                                                           Foreground="{StaticResource TextPrimary}" FontSize="13" FontWeight="SemiBold"
                                                                           TextTrimming="CharacterEllipsis"/>
                                                                <Border Background="#1128C76F" CornerRadius="6" Padding="8,4" MaxWidth="260" Margin="0,4,0,0">
                                                                    <TextBlock Text="{Binding ChangeSummary}" Foreground="{StaticResource AccentGreen}" FontSize="11" TextWrapping="Wrap"/>
                                                                </Border>
                                                            </StackPanel>
                                                        </Grid>
                                                    </Border>
                                                </DataTemplate>
                                            </ListBox.ItemTemplate>
                                        </ListBox>
                                    </ScrollViewer>
                                </Border>

                                <!-- ìƒì„¸ ë·° (ìš°) -->
                                <Border Grid.Column="1" Margin="12,0,0,0" Padding="14" CornerRadius="12" BorderBrush="{StaticResource DividerColor}" BorderThickness="1" Background="{StaticResource CardBackground}"
                                        Width="350" Height="500">
                                    <Grid DataContext="{Binding SelectedItem, ElementName=ItemChangeList}"
                                          HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Image Stretch="None" HorizontalAlignment="Center" VerticalAlignment="Center"
                                               Source="{Binding ItemInfoJson, Converter={StaticResource ItemTooltipImageConverter}}"
                                               RenderOptions.BitmapScalingMode="NearestNeighbor">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ItemInfoJson, Converter={StaticResource StringNotEmptyToBoolConverter}}" Value="False">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <TextBlock Text="(ì´ë¯¸ì§€ ì—†ìŒ)" Foreground="{StaticResource TextSecondary}" FontSize="13"
                                                   HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ItemInfoJson, Converter={StaticResource StringNotEmptyToBoolConverter}}" Value="True">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Border>
                        <TextBlock x:Name="NoItemChangeDataText" Text="ìž¥ë¹„ ë³€ê²½ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤." 
                                   Foreground="{StaticResource TextMuted}" FontSize="13" 
                                   HorizontalAlignment="Center" Visibility="Collapsed" Margin="0,8,0,0"/>
                    </StackPanel>

                    <!-- ìž¥ë¹„ ë³€ê²½ ë‚´ì—­ íŒì—…: í´ë¦­ ì‹œ ë‹¨ì¼ íŒì—… ì‚¬ìš© -->
                    <Popup x:Name="ItemTooltipPopup"
                           DataContext="{x:Null}"
                           Placement="Absolute"
                           AllowsTransparency="True"
                           StaysOpen="True"
                           PopupAnimation="None"
                           Focusable="False">
                        <Border Background="#E0222A31" BorderThickness="0" Padding="4" CornerRadius="6">
                            <Grid MinWidth="10" MinHeight="10"
                                  RenderOptions.BitmapScalingMode="NearestNeighbor">
                                <!-- GDI+ ë Œë” ì„±ê³µ ì‹œ -->
                                <Image x:Name="PopupTooltipImage"
                                       Source="{Binding ItemInfoJson, Converter={StaticResource ItemTooltipImageConverter}}"
                                       RenderOptions.BitmapScalingMode="NearestNeighbor"
                                       Stretch="None"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center">
                                    <Image.Style>
                                        <Style TargetType="Image">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemInfoJson, Converter={StaticResource StringNotEmptyToBoolConverter}}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Image.Style>
                                </Image>
                                <!-- ë Œë” ì‹¤íŒ¨ ì‹œ í´ë°± -->
                                <ContentControl x:Name="PopupTooltipFallback"
                                                Content="{Binding ItemInfoJson, Converter={StaticResource JsonToItemInfoConverter}}"
                                                ContentTemplate="{StaticResource ItemTooltipTemplate}">
                                    <ContentControl.Style>
                                        <Style TargetType="ContentControl">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=PopupTooltipImage, Path=Source}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ContentControl.Style>
                                </ContentControl>
                            </Grid>
                        </Border>
                    </Popup>

                    <!-- ì•ˆë‚´ ë©”ì‹œì§€ -->
                    <Border x:Name="NoDataPanel" Style="{StaticResource ModernCard}" Margin="0,24,0,0" Visibility="Collapsed">
                        <StackPanel HorizontalAlignment="Center" Margin="20">
                            <Border Background="#1A5AC8FA" Width="80" Height="80" CornerRadius="40" Margin="0,0,0,20">
                                <ui:SymbolIcon Symbol="Info24" FontSize="36" Foreground="{StaticResource AccentCyan}"/>
                            </Border>
                            <TextBlock Text="ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤" Foreground="{StaticResource TextPrimary}" FontSize="18" FontWeight="SemiBold" 
                                       HorizontalAlignment="Center"/>
                            <TextBlock Text="í”„ë¡œê·¸ëž¨ì„ ì‚¬ìš©í•˜ë©´ì„œ ìˆ™ì œë¥¼ ì™„ë£Œí•˜ë©´&#x0a;ìžë™ìœ¼ë¡œ í†µê³„ê°€ ìˆ˜ì§‘ë©ë‹ˆë‹¤." 
                                       Foreground="{StaticResource TextSecondary}" FontSize="13" TextAlignment="Center" Margin="0,12,0,0"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</ui:FluentWindow>
